{"ast":null,"code":"var _jsxFileName = \"/home/alexey/Documents/source/java/SocialNetwork/communify_frontend/src/component/ProfilePageHeader/ProfilePageHeader.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '../../storage';\nimport Button from '../Button/Button';\nimport classes from './ProfilePageHeader.module.css';\nimport { ROUTE } from '../../utils/consts';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfilePageHeader = _s(observer(_c = _s(() => {\n  _s();\n  const {\n    userStore,\n    friendStore\n  } = useContext(Context);\n  const {\n    id: profileId\n  } = useParams(); // ID профиля из URL\n\n  // Определяем, чей профиль просматриваем\n  const isMyProfile = !profileId || userStore.user && userStore.user.id === Number(profileId);\n  const profileData = isMyProfile ? userStore.user : userStore.currentProfile;\n\n  // TODO: Добавить логику для определения статуса дружбы для кнопки \"Добавить в друзья\"\n  // Например, проверить, есть ли profileId в userStore.myFriends или friendStore.sentRequests\n  // const isFriend = friendStore.myFriends.some(f => f.id === Number(profileId));\n  // const requestSent = friendStore.sentRequests.some(req => req.friend.id === Number(profileId));\n\n  const handleAddFriend = async () => {\n    if (profileId) {\n      await friendStore.sendFriendRequest(Number(profileId));\n      // Можно добавить обработку ответа/ошибки\n    }\n  };\n  if (userStore.loading && !(profileData !== null && profileData !== void 0 && profileData.id)) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.profileHeader,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.mainContent,\n      children: \"Loading profile header...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 94\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 55\n  }, this);\n  if (!(profileData !== null && profileData !== void 0 && profileData.id)) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.profileHeader,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.mainContent,\n      children: \"Profile not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 73\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 34\n  }, this);\n  const {\n    firstName,\n    lastName,\n    avatarUrl\n  } = profileData;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.profileHeader,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.background\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.bottomPart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.mainContent,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.profileInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.avatarContainer,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: avatarUrl || \"/default_avatar.png\",\n            alt: \"avatar\",\n            className: classes.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.nameContainer,\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: classes.name,\n            children: [firstName, \" \", lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.buttonsWrapper,\n        children: isMyProfile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: ROUTE.PROFILE_EDIT,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              children: \"Edit Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: ROUTE.PROFILE_CHANGE_PASSWORD,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              white: \"true\",\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleAddFriend,\n            disabled: friendStore.loading,\n            children: friendStore.loading ? 'Processing...' : 'Add Friend'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            white: \"true\",\n            children: \"Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), \" \"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}, \"AUHvinambWa4sv5+8ISJ+goNiNI=\", false, function () {\n  return [useParams];\n})), \"AUHvinambWa4sv5+8ISJ+goNiNI=\", false, function () {\n  return [useParams];\n});\n_c2 = ProfilePageHeader;\nexport default ProfilePageHeader;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProfilePageHeader$observer\");\n$RefreshReg$(_c2, \"ProfilePageHeader\");","map":{"version":3,"names":["React","useContext","Link","useParams","observer","Context","Button","classes","ROUTE","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfilePageHeader","_s","_c","userStore","friendStore","id","profileId","isMyProfile","user","Number","profileData","currentProfile","handleAddFriend","sendFriendRequest","loading","className","profileHeader","children","mainContent","fileName","_jsxFileName","lineNumber","columnNumber","firstName","lastName","avatarUrl","background","bottomPart","profileInfo","avatarContainer","src","alt","avatar","nameContainer","name","buttonsWrapper","to","PROFILE_EDIT","PROFILE_CHANGE_PASSWORD","white","onClick","disabled","_c2","$RefreshReg$"],"sources":["/home/alexey/Documents/source/java/SocialNetwork/communify_frontend/src/component/ProfilePageHeader/ProfilePageHeader.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { observer } from 'mobx-react-lite';\nimport { Context } from '../../storage';\nimport Button from '../Button/Button';\nimport classes from './ProfilePageHeader.module.css';\nimport { ROUTE } from '../../utils/consts';\n\n\nconst ProfilePageHeader = observer(() => {\n    const { userStore, friendStore } = useContext(Context);\n    const { id: profileId } = useParams(); // ID профиля из URL\n    \n    // Определяем, чей профиль просматриваем\n    const isMyProfile = !profileId || (userStore.user && userStore.user.id === Number(profileId));\n    const profileData = isMyProfile ? userStore.user : userStore.currentProfile;\n\n    // TODO: Добавить логику для определения статуса дружбы для кнопки \"Добавить в друзья\"\n    // Например, проверить, есть ли profileId в userStore.myFriends или friendStore.sentRequests\n    // const isFriend = friendStore.myFriends.some(f => f.id === Number(profileId));\n    // const requestSent = friendStore.sentRequests.some(req => req.friend.id === Number(profileId));\n\n\n    const handleAddFriend = async () => {\n        if (profileId) {\n            await friendStore.sendFriendRequest(Number(profileId));\n            // Можно добавить обработку ответа/ошибки\n        }\n    };\n\n    if (userStore.loading && !profileData?.id) return <div className={classes.profileHeader}><div className={classes.mainContent}>Loading profile header...</div></div>;\n    if (!profileData?.id) return <div className={classes.profileHeader}><div className={classes.mainContent}>Profile not found.</div></div>;\n\n\n    const { firstName, lastName, avatarUrl } = profileData;\n\n    return (\n        <div className={classes.profileHeader}>\n            <div className={classes.background} /> {/* Можно добавить фоновое изображение профиля */}\n            <div className={classes.bottomPart} />\n\n            <div className={classes.mainContent}>\n                <div className={classes.profileInfo}>\n                    <div className={classes.avatarContainer}>\n                        <img \n                            src={avatarUrl || \"/default_avatar.png\"} \n                            alt=\"avatar\" \n                            className={classes.avatar}\n                        />\n                    </div>\n                    <div className={classes.nameContainer}>\n                        <h2 className={classes.name}>{firstName} {lastName}</h2>\n                        {/* Можно добавить другую информацию, например, количество друзей */}\n                    </div>\n                </div>\n                \n                <div className={classes.buttonsWrapper}>\n                    {isMyProfile ? (\n                        <>\n                            <Link to={ROUTE.PROFILE_EDIT}> \n                                <Button>Edit Profile</Button>\n                            </Link>\n                            <Link to={ROUTE.PROFILE_CHANGE_PASSWORD}>\n                                <Button white=\"true\">Change Password</Button>\n                            </Link>\n                        </>\n                    ) : (\n                        <>\n                            {/* TODO: Логика для кнопки \"Добавить/Удалить друга\" или \"Отменить запрос\" */}\n                            <Button onClick={handleAddFriend} disabled={friendStore.loading}>\n                                {friendStore.loading ? 'Processing...' : 'Add Friend'}\n                            </Button>\n                            <Button white=\"true\">Share</Button> {/* Логика поделиться */}\n                        </>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n});\n\nexport default ProfilePageHeader;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,IAAI,EAAEC,SAAS,QAAQ,kBAAkB;AAClD,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,SAASC,OAAO,QAAQ,eAAe;AACvC,OAAOC,MAAM,MAAM,kBAAkB;AACrC,OAAOC,OAAO,MAAM,gCAAgC;AACpD,SAASC,KAAK,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAG3C,MAAMC,iBAAiB,GAAAC,EAAA,CAAGV,QAAQ,CAAAW,EAAA,GAAAD,EAAA,CAAC,MAAM;EAAAA,EAAA;EACrC,MAAM;IAAEE,SAAS;IAAEC;EAAY,CAAC,GAAGhB,UAAU,CAACI,OAAO,CAAC;EACtD,MAAM;IAAEa,EAAE,EAAEC;EAAU,CAAC,GAAGhB,SAAS,CAAC,CAAC,CAAC,CAAC;;EAEvC;EACA,MAAMiB,WAAW,GAAG,CAACD,SAAS,IAAKH,SAAS,CAACK,IAAI,IAAIL,SAAS,CAACK,IAAI,CAACH,EAAE,KAAKI,MAAM,CAACH,SAAS,CAAE;EAC7F,MAAMI,WAAW,GAAGH,WAAW,GAAGJ,SAAS,CAACK,IAAI,GAAGL,SAAS,CAACQ,cAAc;;EAE3E;EACA;EACA;EACA;;EAGA,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAIN,SAAS,EAAE;MACX,MAAMF,WAAW,CAACS,iBAAiB,CAACJ,MAAM,CAACH,SAAS,CAAC,CAAC;MACtD;IACJ;EACJ,CAAC;EAED,IAAIH,SAAS,CAACW,OAAO,IAAI,EAACJ,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAEL,EAAE,GAAE,oBAAOR,OAAA;IAAKkB,SAAS,EAAErB,OAAO,CAACsB,aAAc;IAAAC,QAAA,eAACpB,OAAA;MAAKkB,SAAS,EAAErB,OAAO,CAACwB,WAAY;MAAAD,QAAA,EAAC;IAAyB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACnK,IAAI,EAACZ,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAEL,EAAE,GAAE,oBAAOR,OAAA;IAAKkB,SAAS,EAAErB,OAAO,CAACsB,aAAc;IAAAC,QAAA,eAACpB,OAAA;MAAKkB,SAAS,EAAErB,OAAO,CAACwB,WAAY;MAAAD,QAAA,EAAC;IAAkB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAGvI,MAAM;IAAEC,SAAS;IAAEC,QAAQ;IAAEC;EAAU,CAAC,GAAGf,WAAW;EAEtD,oBACIb,OAAA;IAAKkB,SAAS,EAAErB,OAAO,CAACsB,aAAc;IAAAC,QAAA,gBAClCpB,OAAA;MAAKkB,SAAS,EAAErB,OAAO,CAACgC;IAAW;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,KAAC,eACvCzB,OAAA;MAAKkB,SAAS,EAAErB,OAAO,CAACiC;IAAW;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAEtCzB,OAAA;MAAKkB,SAAS,EAAErB,OAAO,CAACwB,WAAY;MAAAD,QAAA,gBAChCpB,OAAA;QAAKkB,SAAS,EAAErB,OAAO,CAACkC,WAAY;QAAAX,QAAA,gBAChCpB,OAAA;UAAKkB,SAAS,EAAErB,OAAO,CAACmC,eAAgB;UAAAZ,QAAA,eACpCpB,OAAA;YACIiC,GAAG,EAAEL,SAAS,IAAI,qBAAsB;YACxCM,GAAG,EAAC,QAAQ;YACZhB,SAAS,EAAErB,OAAO,CAACsC;UAAO;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC,eACNzB,OAAA;UAAKkB,SAAS,EAAErB,OAAO,CAACuC,aAAc;UAAAhB,QAAA,eAClCpB,OAAA;YAAIkB,SAAS,EAAErB,OAAO,CAACwC,IAAK;YAAAjB,QAAA,GAAEM,SAAS,EAAC,GAAC,EAACC,QAAQ;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEvD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENzB,OAAA;QAAKkB,SAAS,EAAErB,OAAO,CAACyC,cAAe;QAAAlB,QAAA,EAClCV,WAAW,gBACRV,OAAA,CAAAE,SAAA;UAAAkB,QAAA,gBACIpB,OAAA,CAACR,IAAI;YAAC+C,EAAE,EAAEzC,KAAK,CAAC0C,YAAa;YAAApB,QAAA,eACzBpB,OAAA,CAACJ,MAAM;cAAAwB,QAAA,EAAC;YAAY;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B,CAAC,eACPzB,OAAA,CAACR,IAAI;YAAC+C,EAAE,EAAEzC,KAAK,CAAC2C,uBAAwB;YAAArB,QAAA,eACpCpB,OAAA,CAACJ,MAAM;cAAC8C,KAAK,EAAC,MAAM;cAAAtB,QAAA,EAAC;YAAe;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CAAC;QAAA,eACT,CAAC,gBAEHzB,OAAA,CAAAE,SAAA;UAAAkB,QAAA,gBAEIpB,OAAA,CAACJ,MAAM;YAAC+C,OAAO,EAAE5B,eAAgB;YAAC6B,QAAQ,EAAErC,WAAW,CAACU,OAAQ;YAAAG,QAAA,EAC3Db,WAAW,CAACU,OAAO,GAAG,eAAe,GAAG;UAAY;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC,eACTzB,OAAA,CAACJ,MAAM;YAAC8C,KAAK,EAAC,MAAM;YAAAtB,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC;QAAA,eACtC;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;EAAA,QApE6BhC,SAAS;AAAA,EAoEtC,CAAC;EAAA,QApE4BA,SAAS;AAAA,EAoErC;AAACoD,GAAA,GAtEG1C,iBAAiB;AAwEvB,eAAeA,iBAAiB;AAAC,IAAAE,EAAA,EAAAwC,GAAA;AAAAC,YAAA,CAAAzC,EAAA;AAAAyC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}